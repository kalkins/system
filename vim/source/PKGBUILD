# Maintainer: Sindre Stephansen <sindre@sindrestephansen.com>
pkgname=vim-custom
pkgver=0
pkgrel=1
epoch=
pkgdesc="A custom bulid of VIM"
arch=("x86_64")
url=""
license=('GPL')
groups=()
depends=("vim-runtime"
         "python2"
         "python3"
         "ruby"
         "perl"
         "lua")
makedepends=()
checkdepends=()
optdepends=()
provides=()
conflicts=("vim")
replaces=()
backup=()
options=()
install=
changelog=
source=("$pkgname::hg+https://bitbucket.org/vim-mirror/vim")
noextract=()
md5sums=('SKIP')
validpgpkeys=()

build() {
	cd "$pkgname"
	./configure --prefix=/usr \
            --with-features=huge \
            --enable-multibyte \
            --enable-rubyinterp \
            --enable-pythoninterp \
            --with-python-config-dir=/usr/lib/python2.7/config \
            --enable-perlinterp \
            --enable-luainterp
	make VIMRUNTIMEDIR=/usr/share/vim/vim74
}

check() {
	cd "$pkgname"
        #make -k check
}

package() {
	cd "$pkgname"
	make DESTDIR="$pkgdir/" install
}
